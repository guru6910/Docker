# Volume 

Volumes are the preferred mechanism for persisting data generated by and used by Docker containers. While bind mounts are dependent on the directory structure and OS of the host machine, volumes are completely managed by Docker. Volumes have several advantages over bind mounts:

- Volumes are easier to back up or migrate than bind mounts.
- You can manage volumes using Docker CLI commands or the Docker API.
- Volumes work on both Linux and Windows containers.
- Volumes can be more safely shared among multiple containers.
- Volume drivers let you store volumes on remote hosts or cloud providers, encrypt the contents of volumes, or add other functionality.
- New volumes can have their content pre-populated by a container.
- Volumes on Docker Desktop have much higher performance than bind mounts from Mac and Windows hosts.


## Docker volume task : modify one container and see that result another container which mounted with same volume.


**docker volume**
```
docker volume create ebs-vol
docker volume ls
docker run -itd --name cont1  --mount source=ebs,target=/app ubuntu:latest
docker run -itd --name cont2  --mount source=ebs,target=/app ubuntu:latest
docker ps --filter volume=ebs-vol
docker exec -it cont1 /bin/bash
cd app
touch demo.txt
exit
#### log in into another continer
docker exec -it cont2 /bin/bash
ls app
````
#### attach local to file to container
````
docker run -itd --name example1 -v ${PWD}/ec2:/var/demo ubuntu
````



## Docker Volume manage from Host 

### Default Volume Location in Host :  /var/lib/docker/volumes

````
docker volume create <volume name>
````
````
docker run -d -P -v volumename:/usr/share/nginx/html/ <imagename(nginx)>
````
````
docker run -d -P -v /mnt/Volume:/usr/local/apache2/htdocs/  httpd  [when we change data in /mnt/Volume on host then automatically changed the data in container /usr/share/nginx/html/]
````
````
/var/lib/docker/volumes/volname/_data
````
